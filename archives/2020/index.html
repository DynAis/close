
<!DOCTYPE html>
<html lang="zh">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="想成为魔法师的DynAis">
    <title>Archives: 2020 - 想成为魔法师的DynAis</title>
    <meta name="author" content="DynAis">
    
        <meta name="keywords" content="DynAis,Dynais,dynais,dyn_ais,Aisblue,aisblue,ais_blue,">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="../../atom.xml">
        
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="Any sufficiently advanced technology is indistinguishable from magic.">
<meta property="og:type" content="blog">
<meta property="og:title" content="想成为魔法师的DynAis">
<meta property="og:url" content="http://yoursite.com/archives/2020/index.html">
<meta property="og:site_name" content="想成为魔法师的DynAis">
<meta property="og:description" content="Any sufficiently advanced technology is indistinguishable from magic.">
<meta property="og:locale" content="zh">
<meta property="article:author" content="DynAis">
<meta property="article:tag" content="DynAis">
<meta property="article:tag" content="Dynais">
<meta property="article:tag" content="dynais">
<meta property="article:tag" content="dyn_ais">
<meta property="article:tag" content="Aisblue">
<meta property="article:tag" content="aisblue">
<meta property="article:tag" content="ais_blue">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="../../assets/css/style-qey3lc0bql3ftlaacfgzrbbk6gogymgpesgwxjzodsporaxnx8frs0yaumdl.min.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="../../%20"
            aria-label=""
        >
            想成为魔法师的DynAis
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="../../#about"
                aria-label="Open the link: ../../#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../index.html"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="../../#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../https:/github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../http:/stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../https:/twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../https:/facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../https:/plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../https:/www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/Vscode/"
                            aria-label=": Vscode"
                        >
                            Vscode
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T14:05:13+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    
                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/Vscode/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/Vscode/"
                aria-label=": Vscode"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A10_%E9%9C%8D%E5%A4%AB%E7%BA%BF%E5%92%8C%E5%9C%86%E6%A3%80%E6%B5%8B/"
                            aria-label=": NT-OC-A10_霍夫线和圆检测"
                        >
                            NT-OC-A10_霍夫线和圆检测
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200216"><a href="#20200216" class="headerlink" title="20200216"></a>20200216</h1><h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*霍夫线检测 输入图像要先Canny过 参数为</span></span><br><span class="line"><span class="comment">- 输入图像</span></span><br><span class="line"><span class="comment">- 输出向量数组,数据类型为Vec4i(就是两个点)</span></span><br><span class="line"><span class="comment">- 默认1</span></span><br><span class="line"><span class="comment">- 默认CV_PI / 180, 转角步长</span></span><br><span class="line"><span class="comment">- 阈值(我设了100)</span></span><br><span class="line"><span class="comment">- 最小线长</span></span><br><span class="line"><span class="comment">- 最大间隙, 小于这个值的两条线会连成一条, 对于断断续续的线效果好</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HoughLinesP</span><span class="params">( InputArray <span class="built_in">image</span>, OutputArray lines,</span></span></span><br><span class="line"><span class="function"><span class="params">                 <span class="keyword">double</span> rho, <span class="keyword">double</span> theta, <span class="keyword">int</span> threshold,</span></span></span><br><span class="line"><span class="function"><span class="params">                 <span class="keyword">double</span> minLineLength = <span class="number">0</span>, <span class="keyword">double</span> maxLineGap = <span class="number">0</span> )</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*霍夫圆检测 参数从前往后分别是</span></span><br><span class="line"><span class="comment">- 输入图像矩阵(8bit的灰度图,这个API自带Canny边缘检测)</span></span><br><span class="line"><span class="comment">- 输出向量数组,数据类型位Vec3f</span></span><br><span class="line"><span class="comment">- HOUGH_GRADIENT</span></span><br><span class="line"><span class="comment">- 图像缩放,默认1</span></span><br><span class="line"><span class="comment">- 圆心最小距离, 小于会认为是同心圆?</span></span><br><span class="line"><span class="comment">- Canny检测的大阈值,小的=大的除二计算</span></span><br><span class="line"><span class="comment">- 点重叠n个以上判定为圆,越小检出越多圆</span></span><br><span class="line"><span class="comment">- 最小圆半径</span></span><br><span class="line"><span class="comment">- 最大圆半径</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HoughCircles</span><span class="params">( InputArray <span class="built_in">image</span>, OutputArray circles,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">int</span> method, <span class="keyword">double</span> dp, <span class="keyword">double</span> minDist,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">double</span> param1 = <span class="number">100</span>, <span class="keyword">double</span> param2 = <span class="number">100</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">int</span> minRadius = <span class="number">0</span>, <span class="keyword">int</span> maxRadius = <span class="number">0</span> )</span></span>;</span><br></pre></td></tr></table></figure>



<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li>圆检测对噪声敏感, 需要先中值滤波</li>
<li>太难了,建议看下面的博客,线检测还好,圆检测真的看不懂</li>
</ul>
<h3 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h3><h3 id="源-检出NXP赛道上的几何图"><a href="#源-检出NXP赛道上的几何图" class="headerlink" title="源//检出NXP赛道上的几何图"></a>源//检出NXP赛道上的几何图</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OpenCV_Template.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line">Mat imgIn, imgOut;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span> </span>&#123;</span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line">	imgIn = imread(<span class="string">"D:/WorkSpace/Projects/OpenCV Learning/ImageHub/直道进圆环.jpg"</span>, IMREAD_COLOR);</span><br><span class="line">	<span class="keyword">if</span> (imgIn.empty()) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Can not open this IMG..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//VideoCapture(0) &gt;&gt; imgIn;</span></span><br><span class="line">	imgOut = imgIn.clone();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line">	<span class="keyword">double</span> tCount = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">double</span> tSum = <span class="number">0</span>;</span><br><span class="line">	tCount = getTickCount();</span><br><span class="line"></span><br><span class="line">	cvtColor(imgIn, imgIn, COLOR_BGR2GRAY);</span><br><span class="line">	pyrDown(imgIn, imgIn, Size(imgIn.cols / <span class="number">2</span>, imgIn.rows / <span class="number">2</span>));</span><br><span class="line">	pyrDown(imgIn, imgIn, Size(imgIn.cols / <span class="number">2</span>, imgIn.rows / <span class="number">2</span>));</span><br><span class="line">	pyrDown(imgIn, imgIn, Size(imgIn.cols / <span class="number">2</span>, imgIn.rows / <span class="number">2</span>));</span><br><span class="line">	<span class="comment">//GaussianBlur(imgOut, imgOut, Size(3, 3), 1.4);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//霍夫圆检测</span></span><br><span class="line">	imgOut = Mat::zeros(imgIn.<span class="built_in">size</span>(), imgIn.type());</span><br><span class="line">	<span class="built_in">vector</span>&lt;Vec3f&gt; circles;</span><br><span class="line">	HoughCircles(imgIn, circles, HOUGH_GRADIENT, <span class="number">1</span>, <span class="number">50</span>, <span class="number">125</span>, <span class="number">30</span>);<span class="comment">//参数很难试</span></span><br><span class="line">	Vec3f aCircle;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; circles.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">		aCircle = circles[i];</span><br><span class="line">		<span class="built_in">circle</span>(imgOut, Point(aCircle[<span class="number">0</span>],aCircle[<span class="number">1</span>]), aCircle[<span class="number">2</span>], Scalar(<span class="number">255</span>), <span class="number">1</span>, LINE_AA);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//霍夫直线检测</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;Vec4i&gt; lines;</span><br><span class="line">	Canny(imgIn, imgIn, <span class="number">50</span>, <span class="number">125</span>, <span class="number">3</span>);</span><br><span class="line">	HoughLinesP(imgIn, lines, <span class="number">1</span>, CV_PI / <span class="number">180</span>, <span class="number">60</span>, <span class="number">0.0</span>, <span class="number">20.0</span>);</span><br><span class="line"></span><br><span class="line">	Vec4i aLine;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; lines.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">		aLine = lines[i];</span><br><span class="line">		<span class="built_in">line</span>(imgOut, Point(aLine[<span class="number">0</span>], aLine[<span class="number">1</span>]), Point(aLine[<span class="number">2</span>], aLine[<span class="number">3</span>]) ,Scalar(<span class="number">255</span>), <span class="number">1</span>, LINE_AA);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	tSum = (getTickCount() - tCount) / getTickFrequency();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Time consume %.4f\n\n"</span>, tSum);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line">	namedWindow(<span class="string">"input"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"input"</span>, imgIn);</span><br><span class="line">	namedWindow(<span class="string">"output"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output"</span>, imgOut);</span><br><span class="line">	waitKey(<span class="number">0</span>);</span><br><span class="line">	<span class="comment">//cout &lt;&lt; imgOut &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行程序: Ctrl + F5 或调试 &gt;“开始执行(不调试)”菜单</span></span><br><span class="line"><span class="comment">// 调试程序: F5 或调试 &gt;“开始调试”菜单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 入门使用技巧: </span></span><br><span class="line"><span class="comment">//   1. 使用解决方案资源管理器窗口添加/管理文件</span></span><br><span class="line"><span class="comment">//   2. 使用团队资源管理器窗口连接到源代码管理</span></span><br><span class="line"><span class="comment">//   3. 使用输出窗口查看生成输出和其他消息</span></span><br><span class="line"><span class="comment">//   4. 使用错误列表窗口查看错误</span></span><br><span class="line"><span class="comment">//   5. 转到“项目”&gt;“添加新项”以创建新的代码文件，或转到“项目”&gt;“添加现有项”以将现有代码文件添加到项目</span></span><br><span class="line"><span class="comment">//   6. 将来，若要再次打开此项目，请转到“文件”&gt;“打开”&gt;“项目”并选择 .sln 文件</span></span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A10_%E9%9C%8D%E5%A4%AB%E7%BA%BF%E5%92%8C%E5%9C%86%E6%A3%80%E6%B5%8B/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A10_%E9%9C%8D%E5%A4%AB%E7%BA%BF%E5%92%8C%E5%9C%86%E6%A3%80%E6%B5%8B/"
                aria-label=": NT-OC-A10_霍夫线和圆检测"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A09_Canny%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B%E7%AE%97%E6%B3%95/"
                            aria-label=": NT-OC-A09_Canny边缘检测算法"
                        >
                            NT-OC-A09_Canny边缘检测算法
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200216"><a href="#20200216" class="headerlink" title="20200216"></a>20200216</h1><h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Canny();	<span class="comment">//Canny的API, 包含了4个步骤. 注意, 不包含高斯模糊部分</span></span><br></pre></td></tr></table></figure>



<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li><p><strong>Canny边缘检测算法可以分为以下5个步骤：</strong></p>
<ul>
<li><p>使用高斯滤波器，以平滑图像，滤除噪声。(需要调用高斯模糊API)</p>
</li>
<li><p>计算图像中每个像素点的梯度强度和方向。</p>
</li>
<li><p>应用非极大值（Non-Maximum Suppression）抑制，以消除边缘检测带来的杂散响应。</p>
</li>
<li><p>应用双阈值（Double-Threshold）检测来确定真实的和潜在的边缘。</p>
</li>
<li><p>通过抑制孤立的弱边缘最终完成边缘检测。</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>非极大值抑制:</strong></li>
</ul>
<p>细化边缘, 但技术的实现细节并不是很懂, 大致思想是取邻域中的梯度极大值点来进行有效边缘的判断, 下面的文章讲的很详细, 可以看看.</p>
<ul>
<li><strong>关于几种边缘检测方法:</strong></li>
</ul>
<p>Laplance, Canny 和 Sobel 都是边缘检测的方法, Canny是包含了Sobel算子的边缘检测, 所以可以说是Sobel的实际应用, Laplance的检测效果并不好, 但是有其他的用途, 总的来说Canny能应对大多数的场景</p>
<h3 id="参考来源"><a href="#参考来源" class="headerlink" title="参考来源"></a>参考来源</h3><ul>
<li><p>《A Computational Approach to Edge Detection》</p>
</li>
<li><p>[1]: <a href="https://www.cnblogs.com/techyan1990/p/7291771.html" target="_blank" rel="noopener">https://www.cnblogs.com/techyan1990/p/7291771.html</a>    “边缘检测之Canny”</p>
</li>
</ul>
<h3 id="源-对NXP赛道进行下采样和边缘检测"><a href="#源-对NXP赛道进行下采样和边缘检测" class="headerlink" title="源//对NXP赛道进行下采样和边缘检测"></a>源//对NXP赛道进行下采样和边缘检测</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OpenCV_Template.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line">Mat imgIn, imgOut;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span> </span>&#123;</span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line">	imgIn = imread(<span class="string">"D:/WorkSpace/Projects/OpenCV Learning/ImageHub/直道进圆环.jpg"</span>, IMREAD_COLOR);</span><br><span class="line">	<span class="keyword">if</span> (imgIn.empty()) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Can not open this IMG..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//VideoCapture(0) &gt;&gt; imgIn;</span></span><br><span class="line">	imgOut = imgIn.clone();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line">	<span class="keyword">double</span> tCount = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">double</span> tSum = <span class="number">0</span>;</span><br><span class="line">	tCount = getTickCount();</span><br><span class="line"></span><br><span class="line">	cvtColor(imgIn, imgOut, COLOR_BGR2GRAY);<span class="comment">//Canny只接受8位深度的灰度图</span></span><br><span class="line">	pyrDown(imgOut, imgOut, Size(imgOut.cols / <span class="number">2</span>, imgOut.rows / <span class="number">2</span>));<span class="comment">//下采样</span></span><br><span class="line">	pyrDown(imgOut, imgOut, Size(imgOut.cols / <span class="number">2</span>, imgOut.rows / <span class="number">2</span>));</span><br><span class="line">	pyrDown(imgOut, imgOut, Size(imgOut.cols / <span class="number">2</span>, imgOut.rows / <span class="number">2</span>));</span><br><span class="line">	<span class="comment">//GaussianBlur(imgOut, imgOut, Size(3, 3), 1.4);</span></span><br><span class="line"></span><br><span class="line">	Canny(imgOut, imgOut, <span class="number">50</span>, <span class="number">125</span>, <span class="number">3</span>);<span class="comment">//第三,四个参数代表上下阈值, 第五个是Sobel算子的大小, 一般取3</span></span><br><span class="line"></span><br><span class="line">	tSum = (getTickCount() - tCount) / getTickFrequency();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Time consume %.4f\n\n"</span>, tSum);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line">	namedWindow(<span class="string">"input"</span>, WINDOW_NORMAL);</span><br><span class="line">	imshow(<span class="string">"input"</span>, imgIn);</span><br><span class="line">	namedWindow(<span class="string">"output"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output"</span>, imgOut);</span><br><span class="line">	waitKey(<span class="number">0</span>);</span><br><span class="line">	<span class="comment">//cout &lt;&lt; imgOut &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行程序: Ctrl + F5 或调试 &gt;“开始执行(不调试)”菜单</span></span><br><span class="line"><span class="comment">// 调试程序: F5 或调试 &gt;“开始调试”菜单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 入门使用技巧: </span></span><br><span class="line"><span class="comment">//   1. 使用解决方案资源管理器窗口添加/管理文件</span></span><br><span class="line"><span class="comment">//   2. 使用团队资源管理器窗口连接到源代码管理</span></span><br><span class="line"><span class="comment">//   3. 使用输出窗口查看生成输出和其他消息</span></span><br><span class="line"><span class="comment">//   4. 使用错误列表窗口查看错误</span></span><br><span class="line"><span class="comment">//   5. 转到“项目”&gt;“添加新项”以创建新的代码文件，或转到“项目”&gt;“添加现有项”以将现有代码文件添加到项目</span></span><br><span class="line"><span class="comment">//   6. 将来，若要再次打开此项目，请转到“文件”&gt;“打开”&gt;“项目”并选择 .sln 文件</span></span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A09_Canny%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B%E7%AE%97%E6%B3%95/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A09_Canny%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B%E7%AE%97%E6%B3%95/"
                aria-label=": NT-OC-A09_Canny边缘检测算法"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A08_Sobel%E7%AE%97%E5%AD%90/"
                            aria-label=": NT-OC-A08_Sobel算子"
                        >
                            NT-OC-A08_Sobel算子
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200215"><a href="#20200215" class="headerlink" title="20200215"></a>20200215</h1><h3 id="相关API"><a href="#相关API" class="headerlink" title="相关API"></a>相关API</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Sobel();<span class="comment">//索贝尔算子</span></span><br><span class="line">Scharr();<span class="comment">//Sobel的加强</span></span><br></pre></td></tr></table></figure>



<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li><p><strong>Sobel:</strong> <a href="https://www.jianshu.com/p/2a06c68f6c14" target="_blank" rel="noopener">边缘检测算法及各自的优缺点</a></p>
<p>Sobel是离散的一阶微分算子,可以用来计算图像的梯度(一阶), 常用于得到图像的边缘特征, 除了Sobel之外还有其他的算子, Sobel的优势是速度比较快, 但是在准确度上有欠缺</p>
</li>
</ul>
<ul>
<li><p><strong>使用加减来简化计算机的负担:</strong> <a href="https://blog.csdn.net/qq_37124237/article/details/82183177" target="_blank" rel="noopener">sobel算子的原理与实现</a></p>
<p>乘除对计算机很费力, 对计算机应该采用近似计算, 在Sobel求边缘的合成阶段使用到了这种思想</p>
</li>
</ul>
<ul>
<li><p><strong>整个流程:</strong></p>
<p> 高斯-&gt;转灰度-&gt;求梯度x与y-&gt;混合</p>
</li>
</ul>
<h3 id="源"><a href="#源" class="headerlink" title="源"></a>源</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无</span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A08_Sobel%E7%AE%97%E5%AD%90/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A08_Sobel%E7%AE%97%E5%AD%90/"
                aria-label=": NT-OC-A08_Sobel算子"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A07_%E4%B8%8A%E4%B8%8B%E9%87%87%E6%A0%B7_%E9%AB%98%E6%96%AF%E4%B8%8D%E5%90%8C(DOG)/"
                            aria-label=": NT-OC-A07_上下采样_高斯不同(DOG)"
                        >
                            NT-OC-A07_上下采样_高斯不同(DOG)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200215"><a href="#20200215" class="headerlink" title="20200215"></a>20200215</h1><h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- pyrUp();<span class="comment">//上采样</span></span><br><span class="line">- pyrDown();<span class="comment">//下采样</span></span><br><span class="line">- subtract();<span class="comment">//图像减法</span></span><br><span class="line"></span><br><span class="line">- threshold()<span class="comment">//二值化</span></span><br><span class="line">- binarythreshold()<span class="comment">//还是二值化</span></span><br></pre></td></tr></table></figure>



<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li><strong>高斯金字塔:</strong><br>涉及到上采样和下采样的概念<br>实现步骤是:   1.高斯模糊    2.删除当前层偶数行列</li>
</ul>
<ul>
<li><strong>高斯不同(DOG):</strong><br>同图像在不同参数下做高斯模糊然后结果相减, 最后记得归一化, 不然图很淡</li>
</ul>
<ul>
<li><p><strong>上/下采样对比几个像素求平均合成的优势:</strong></p>
<p>最大的好处就是变快了, 在人脸识别那个项目里我自己写了压缩算法,但是速度和这个相差了一倍(在720p下)</p>
<p>但是也发现这个算法有局限, 首先图像会便模糊, 其次只能实现2的次方倍的缩放(至少根据OpenCV里的API来看)</p>
</li>
</ul>
<h3 id="源"><a href="#源" class="headerlink" title="源"></a>源</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无</span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A07_%E4%B8%8A%E4%B8%8B%E9%87%87%E6%A0%B7_%E9%AB%98%E6%96%AF%E4%B8%8D%E5%90%8C(DOG)/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A07_%E4%B8%8A%E4%B8%8B%E9%87%87%E6%A0%B7_%E9%AB%98%E6%96%AF%E4%B8%8D%E5%90%8C(DOG)/"
                aria-label=": NT-OC-A07_上下采样_高斯不同(DOG)"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A06_%E5%BD%A2%E6%80%81%E5%AD%A6%E6%93%8D%E4%BD%9C/"
                            aria-label=": NT-OC-A06_形态学操作"
                        >
                            NT-OC-A06_形态学操作
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200130"><a href="#20200130" class="headerlink" title="20200130"></a>20200130</h1><h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">getStructuringElement(<span class="keyword">int</span> shape, Size ksize ,Point anchor);注意<span class="built_in">size</span>还是要奇数</span><br><span class="line">dilate(src, dst, kernel);膨胀</span><br><span class="line">erode(src, dst, kernel);腐蚀</span><br><span class="line">creatTrackbar();创建滑块,比较实用,但我搞不懂</span><br><span class="line"></span><br><span class="line">morphologyEX();形态学操作</span><br><span class="line"></span><br><span class="line">adaptiveThreshold();</span><br><span class="line">threshold(); <span class="comment">//大津法</span></span><br></pre></td></tr></table></figure>



<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><ul>
<li>膨胀</li>
<li>腐蚀</li>
<li>开操作 </li>
<li>形态学梯度</li>
</ul>
<ul>
<li>提取垂直或水平的线(使用水平或竖直的结构体)</li>
<li>二值化</li>
<li>对图像取反(用~)</li>
</ul>
<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li>opencv结构元素获取(getStructuringElement)我理解是类似卷积核的东西</li>
<li>膨胀:区域最大值覆盖中心值</li>
<li>腐蚀:区域最小值覆盖中心值</li>
</ul>
<ul>
<li>开操作:先腐蚀后膨胀,去掉小的对象</li>
<li>闭操作:先膨胀后腐蚀,填充小的洞</li>
<li>形态学梯度可以方便得提取边线</li>
<li>提取垂直或水平的线思路: 使用特殊的结构体来提取特殊的结构,比如一条横线进行开操作就可以提取出横线结构(操作完以后可以blur一下) </li>
<li>在进行阙值分割前对图像进行模糊处理(图像处理领域好像叫滤波?)再分割貌似有更好的效果</li>
<li>挑战: 验证码识别</li>
</ul>
<h3 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h3><p>无</p>
<h3 id="源"><a href="#源" class="headerlink" title="源"></a>源</h3><p>主要是滑块的应用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OpenCV_Template.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line">Mat structs;</span><br><span class="line">Mat imgIn, imgOut;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXSIZE = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">int</span> size_ = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Graph</span><span class="params">(<span class="keyword">int</span>,<span class="keyword">void</span>*)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line">	<span class="comment">//VideoCapture cap;</span></span><br><span class="line">	<span class="comment">//cap = VideoCapture(0);</span></span><br><span class="line">	<span class="comment">//Mat cap0;</span></span><br><span class="line">	<span class="comment">//VideoCapture(0) &gt;&gt; cap0;</span></span><br><span class="line">	<span class="comment">//imshow("test", cap0);</span></span><br><span class="line"></span><br><span class="line">	imgIn = imread(<span class="string">"D:/WorkSpace/Projects/OpenCV学习/ImageHub/Code1.png"</span>, IMREAD_GRAYSCALE);</span><br><span class="line">	<span class="keyword">if</span> (imgIn.empty()) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Can not open this IMG..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//imgIn = cap0.clone();</span></span><br><span class="line">	<span class="comment">//cvtColor(imgIn, imgIn, COLOR_BGR2GRAY);</span></span><br><span class="line">	<span class="comment">//imshow("test", imgIn);</span></span><br><span class="line"></span><br><span class="line">	medianBlur(imgIn, imgIn, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//threshold(~imgIn, imgIn, 0, 255, THRESH_OTSU);</span></span><br><span class="line">	adaptiveThreshold(~imgIn, imgIn, <span class="number">255</span>, ADAPTIVE_THRESH_GAUSSIAN_C, THRESH_BINARY, <span class="number">33</span>, <span class="number">-10</span>);</span><br><span class="line"></span><br><span class="line">	imgOut = imgIn.clone();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line">	namedWindow(<span class="string">"output"</span>, WINDOW_NORMAL);</span><br><span class="line">	imshow(<span class="string">"output"</span>, imgOut);</span><br><span class="line">	createTrackbar(<span class="string">"Kern Size"</span>, <span class="string">"output"</span>, &amp;size_, MAXSIZE, Graph);		<span class="comment">//这个函数调用的方法非常奇特我搞不懂为什么,前两句是为了初始化窗口↑,注意最后一个参数虽然是函数但是不用括号</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line">	<span class="comment">//namedWindow("input", WINDOW_AUTOSIZE);</span></span><br><span class="line">	<span class="comment">//imshow("input", imgIn);</span></span><br><span class="line">	<span class="comment">//namedWindow("output2", WINDOW_AUTOSIZE);</span></span><br><span class="line">	<span class="comment">//imshow("output2", imgOut2);</span></span><br><span class="line">	<span class="comment">//namedWindow("output3", WINDOW_AUTOSIZE);</span></span><br><span class="line">	<span class="comment">//imshow("output3", imgOut3);</span></span><br><span class="line">	<span class="comment">//namedWindow("output4", WINDOW_AUTOSIZE);</span></span><br><span class="line">	<span class="comment">//imshow("output4", imgOut4);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//imwrite("D:/Download/Family2020_Final.jpg", imgOut);</span></span><br><span class="line">	<span class="comment">//cout &lt;&lt; "Mat=" &lt;&lt; endl &lt;&lt; imgOut &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	waitKey(<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Graph</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">void</span>*)</span> </span>&#123;		<span class="comment">//注意书写格式,虽然我不知道为什么</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> s = size_ * <span class="number">2</span> + <span class="number">1</span> ;</span><br><span class="line">	structs = getStructuringElement(MORPH_RECT, Size(s, s), Point(<span class="number">-1</span>, <span class="number">-1</span>));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//erode(imgIn, imgOut, structs);</span></span><br><span class="line">	<span class="comment">//dilate(imgOut, imgOut, structs);</span></span><br><span class="line"></span><br><span class="line">	morphologyEx(imgIn, imgOut, MORPH_GRADIENT, structs);</span><br><span class="line"></span><br><span class="line">	imshow(<span class="string">"output"</span>, imgOut);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行程序: Ctrl + F5 或调试 &gt;“开始执行(不调试)”菜单</span></span><br><span class="line"><span class="comment">// 调试程序: F5 或调试 &gt;“开始调试”菜单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 入门使用技巧: </span></span><br><span class="line"><span class="comment">//   1. 使用解决方案资源管理器窗口添加/管理文件</span></span><br><span class="line"><span class="comment">//   2. 使用团队资源管理器窗口连接到源代码管理</span></span><br><span class="line"><span class="comment">//   3. 使用输出窗口查看生成输出和其他消息</span></span><br><span class="line"><span class="comment">//   4. 使用错误列表窗口查看错误</span></span><br><span class="line"><span class="comment">//   5. 转到“项目”&gt;“添加新项”以创建新的代码文件，或转到“项目”&gt;“添加现有项”以将现有代码文件添加到项目</span></span><br><span class="line"><span class="comment">//   6. 将来，若要再次打开此项目，请转到“文件”&gt;“打开”&gt;“项目”并选择 .sln 文件</span></span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A06_%E5%BD%A2%E6%80%81%E5%AD%A6%E6%93%8D%E4%BD%9C/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A06_%E5%BD%A2%E6%80%81%E5%AD%A6%E6%93%8D%E4%BD%9C/"
                aria-label=": NT-OC-A06_形态学操作"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A05_%E5%90%84%E7%B1%BB%E6%A8%A1%E7%B3%8A/"
                            aria-label=": NT-OC-A05_各类模糊"
                        >
                            NT-OC-A05_各类模糊
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200126"><a href="#20200126" class="headerlink" title="20200126"></a>20200126</h1><h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">blur();		<span class="comment">//均值模糊</span></span><br><span class="line">GaussianBlur();		<span class="comment">//高斯模糊</span></span><br><span class="line">medianBlur();		<span class="comment">//中值滤波</span></span><br><span class="line">bilateralFilter()		<span class="comment">//双边滤波</span></span><br></pre></td></tr></table></figure>



<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><ul>
<li><p>模糊</p>
<pre><code>- 均值滤波

 - 高斯滤波

 - 中值滤波

 - 双边滤波</code></pre></li>
</ul>
<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li><strong>高斯滤波是通过高斯函数也就是正态分布来给mask权重</strong></li>
<li>sigma越大正态分布上表现就是越平滑</li>
</ul>
<ul>
<li><strong>中值滤波是统计排序滤波器,对椒盐噪声有很好的抑制作用</strong></li>
<li><strong>注意区分中值和均值</strong></li>
</ul>
<ul>
<li>高斯模糊没有考虑像素值的差异,会导致边缘还是不那么清晰</li>
<li><strong>引入空间域核与值域核考虑,空间域就相当于普通的高斯滤波,根据相邻距离决定权重,而值域核是由目标像素值与中心像素值差来给定权重</strong></li>
<li>简单来说就是双边模糊对高斯模糊来说多了一层mask,这层mask不是根据像素空间位置来给定权重的,而是根据像素与中心像素值之差得出</li>
<li><strong>双边滤波可以磨皮(</strong></li>
</ul>
<ul>
<li>剩下的看注释</li>
</ul>
<h3 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h3><p>无</p>
<h3 id="源"><a href="#源" class="headerlink" title="源"></a>源</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OpenCV_Template.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line">	Mat imgIn, imgOut;</span><br><span class="line">	Mat mask;</span><br><span class="line"></span><br><span class="line">	imgIn = imread(<span class="string">"Test.jpg"</span>);</span><br><span class="line">	<span class="keyword">if</span> (imgIn.empty()) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Can not open this IMG..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	imgOut = imgIn.clone();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line">	<span class="comment">//blur(imgIn, imgOut, Size(9, 9), Point(-1, -1));		//均值模糊</span></span><br><span class="line"></span><br><span class="line">	Mat imgOut2;</span><br><span class="line">	<span class="comment">//double sigma = 3;</span></span><br><span class="line">	<span class="comment">//GaussianBlur(imgIn, imgOut2, Size(9,9), sigma, sigma);		//高斯模糊</span></span><br><span class="line"></span><br><span class="line">	Mat imgOut3;</span><br><span class="line">	<span class="comment">//medianBlur(imgIn, imgOut3, 9);		//中值滤波</span></span><br><span class="line"></span><br><span class="line">	Mat imgOut4;</span><br><span class="line">	bilateralFilter(imgIn, imgOut, <span class="number">15</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);</span><br><span class="line">	bilateralFilter(imgIn, imgOut2, <span class="number">30</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);		<span class="comment">//在sigmaColor很大的情况下,修改sigmaSpace效果很小</span></span><br><span class="line">	bilateralFilter(imgIn, imgOut3, <span class="number">50</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);		<span class="comment">//sigmaColor越大,色块化越严重</span></span><br><span class="line">	bilateralFilter(imgIn, imgOut4, <span class="number">100</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);		<span class="comment">//范围d越大,柔化越明显</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line">	namedWindow(<span class="string">"input"</span>, WINDOW_NORMAL);</span><br><span class="line">	imshow(<span class="string">"input"</span>, imgIn);</span><br><span class="line">	namedWindow(<span class="string">"output"</span>, WINDOW_NORMAL);</span><br><span class="line">	imshow(<span class="string">"output"</span>, imgOut);</span><br><span class="line">	namedWindow(<span class="string">"output2"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output2"</span>, imgOut2);</span><br><span class="line">	namedWindow(<span class="string">"output3"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output3"</span>, imgOut3);</span><br><span class="line">	namedWindow(<span class="string">"output4"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output4"</span>, imgOut4);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//imwrite("D:/Download/Family2020_Final.jpg", imgOut);</span></span><br><span class="line">	<span class="comment">//cout &lt;&lt; "Mat=" &lt;&lt; endl &lt;&lt; imgOut &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	waitKey(<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行程序: Ctrl + F5 或调试 &gt;“开始执行(不调试)”菜单</span></span><br><span class="line"><span class="comment">// 调试程序: F5 或调试 &gt;“开始调试”菜单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 入门使用技巧: </span></span><br><span class="line"><span class="comment">//   1. 使用解决方案资源管理器窗口添加/管理文件</span></span><br><span class="line"><span class="comment">//   2. 使用团队资源管理器窗口连接到源代码管理</span></span><br><span class="line"><span class="comment">//   3. 使用输出窗口查看生成输出和其他消息</span></span><br><span class="line"><span class="comment">//   4. 使用错误列表窗口查看错误</span></span><br><span class="line"><span class="comment">//   5. 转到“项目”&gt;“添加新项”以创建新的代码文件，或转到“项目”&gt;“添加现有项”以将现有代码文件添加到项目</span></span><br><span class="line"><span class="comment">//   6. 将来，若要再次打开此项目，请转到“文件”&gt;“打开”&gt;“项目”并选择 .sln 文件</span></span><br><span class="line"><span class="comment">// OpenCV_Template.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line">	Mat imgIn, imgOut;</span><br><span class="line">	Mat mask;</span><br><span class="line"></span><br><span class="line">	imgIn = imread(<span class="string">"Test.jpg"</span>);</span><br><span class="line">	<span class="keyword">if</span> (imgIn.empty()) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Can not open this IMG..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	imgOut = imgIn.clone();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line">	<span class="comment">//blur(imgIn, imgOut, Size(9, 9), Point(-1, -1));		//均值模糊</span></span><br><span class="line"></span><br><span class="line">	Mat imgOut2;</span><br><span class="line">	<span class="comment">//double sigma = 3;</span></span><br><span class="line">	<span class="comment">//GaussianBlur(imgIn, imgOut2, Size(9,9), sigma, sigma);		//高斯模糊</span></span><br><span class="line"></span><br><span class="line">	Mat imgOut3;</span><br><span class="line">	<span class="comment">//medianBlur(imgIn, imgOut3, 9);		//中值滤波</span></span><br><span class="line"></span><br><span class="line">	Mat imgOut4;</span><br><span class="line">	bilateralFilter(imgIn, imgOut, <span class="number">15</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);</span><br><span class="line">	bilateralFilter(imgIn, imgOut2, <span class="number">30</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);		<span class="comment">//在sigmaColor很大的情况下,修改sigmaSpace效果很小</span></span><br><span class="line">	bilateralFilter(imgIn, imgOut3, <span class="number">50</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);		<span class="comment">//sigmaColor越大,色块化越严重</span></span><br><span class="line">	bilateralFilter(imgIn, imgOut4, <span class="number">100</span>, <span class="number">30.0</span>, <span class="number">30.0</span>);		<span class="comment">//范围d越大,柔化越明显</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line">	namedWindow(<span class="string">"input"</span>, WINDOW_NORMAL);</span><br><span class="line">	imshow(<span class="string">"input"</span>, imgIn);</span><br><span class="line">	namedWindow(<span class="string">"output"</span>, WINDOW_NORMAL);</span><br><span class="line">	imshow(<span class="string">"output"</span>, imgOut);</span><br><span class="line">	namedWindow(<span class="string">"output2"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output2"</span>, imgOut2);</span><br><span class="line">	namedWindow(<span class="string">"output3"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output3"</span>, imgOut3);</span><br><span class="line">	namedWindow(<span class="string">"output4"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output4"</span>, imgOut4);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//imwrite("D:/Download/Family2020_Final.jpg", imgOut);</span></span><br><span class="line">	<span class="comment">//cout &lt;&lt; "Mat=" &lt;&lt; endl &lt;&lt; imgOut &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	waitKey(<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行程序: Ctrl + F5 或调试 &gt;“开始执行(不调试)”菜单</span></span><br><span class="line"><span class="comment">// 调试程序: F5 或调试 &gt;“开始调试”菜单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 入门使用技巧: </span></span><br><span class="line"><span class="comment">//   1. 使用解决方案资源管理器窗口添加/管理文件</span></span><br><span class="line"><span class="comment">//   2. 使用团队资源管理器窗口连接到源代码管理</span></span><br><span class="line"><span class="comment">//   3. 使用输出窗口查看生成输出和其他消息</span></span><br><span class="line"><span class="comment">//   4. 使用错误列表窗口查看错误</span></span><br><span class="line"><span class="comment">//   5. 转到“项目”&gt;“添加新项”以创建新的代码文件，或转到“项目”&gt;“添加现有项”以将现有代码文件添加到项目</span></span><br><span class="line"><span class="comment">//   6. 将来，若要再次打开此项目，请转到“文件”&gt;“打开”&gt;“项目”并选择 .sln 文件</span></span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A05_%E5%90%84%E7%B1%BB%E6%A8%A1%E7%B3%8A/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A05_%E5%90%84%E7%B1%BB%E6%A8%A1%E7%B3%8A/"
                aria-label=": NT-OC-A05_各类模糊"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A04_%E5%9B%BE%E5%83%8F%E6%B7%B7%E5%90%88_%E4%BA%AE%E5%BA%A6%E5%AF%B9%E6%AF%94%E5%BA%A6_%E5%87%A0%E4%BD%95%E7%BB%98%E5%88%B6/"
                            aria-label=": NT-OC-A04_图像混合_亮度对比度_几何绘制"
                        >
                            NT-OC-A04_图像混合_亮度对比度_几何绘制
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200125"><a href="#20200125" class="headerlink" title="20200125"></a>20200125</h1><h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mat.at&lt;xxx&gt;</span><br><span class="line">bitwise_not();<span class="comment">//反色</span></span><br><span class="line">src.convertTo();<span class="comment">//通道转换</span></span><br><span class="line"></span><br><span class="line">addWeighted()<span class="comment">//图像混合加权相加,大小类型必须一致</span></span><br><span class="line">multiply()<span class="comment">//图像相乘</span></span><br><span class="line"></span><br><span class="line">Mat::zeros</span><br><span class="line"></span><br><span class="line">cv:<span class="built_in">point</span></span><br><span class="line">cv:scalar</span><br><span class="line"><span class="built_in">line</span>();</span><br><span class="line">cv:<span class="built_in">rect</span></span><br><span class="line">rectangle();</span><br></pre></td></tr></table></figure>



<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><ul>
<li>对像素的操作</li>
<li>图像混合    </li>
<li>对比度和亮度调节    </li>
<li>几何绘制(人脸追踪框可能)</li>
</ul>
<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li><strong>通过权重相加函数实现图像混合效果</strong></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addWeighted()</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>对比度和亮度调节的实现思想</strong><ul>
<li><strong>像素值相乘</strong>(对比度实现,因为拉大了数值差)  </li>
<li><strong>像素值加常数</strong>(亮度实现)   </li>
<li><strong>公式</strong>:g(x,y) = alpha * f(x,y) + beta</li>
</ul>
</li>
</ul>
<h3 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h3><p>无</p>
<h3 id="源"><a href="#源" class="headerlink" title="源"></a>源</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OpenCV_Template.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line">	Mat imgIn, imgOut;</span><br><span class="line">	Mat mask;</span><br><span class="line"></span><br><span class="line">	imgIn = imread(<span class="string">"Test.jpg"</span>);</span><br><span class="line">	<span class="keyword">if</span> (imgIn.empty()) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Can not open this IMG..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	imgOut = imgIn.clone();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	初始化	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line">	<span class="comment">//cout &lt;&lt; imgOut.at&lt;Vec3b&gt;(20, 20) &lt;&lt; endl;</span></span><br><span class="line">	<span class="comment">//printf("%d\n", imgOut.at&lt;Vec3b&gt;(20, 20)[0]);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	bitwise_not(imgIn, imgOut);		<span class="comment">//图像混合</span></span><br><span class="line">	<span class="function">Mat <span class="title">output</span><span class="params">(imgIn.<span class="built_in">size</span>(), imgIn.type())</span></span>;</span><br><span class="line">	addWeighted(imgIn, <span class="number">0.6</span>, imgOut, <span class="number">0.4</span>, <span class="number">0.0</span>, output);</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="function">Rect <span class="title">pos</span><span class="params">(<span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>)</span></span>;		<span class="comment">//画框</span></span><br><span class="line">	rectangle(output, pos, Scalar(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">1</span>, LINE_8, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> ix, iy;</span><br><span class="line">	<span class="comment">//int col = imgIn.cols;</span></span><br><span class="line">	<span class="comment">//int row = imgIn.rows;</span></span><br><span class="line">	<span class="keyword">for</span> (ix = <span class="number">0</span>; ix &lt; imgIn.cols; ix++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (iy = <span class="number">0</span>; iy &lt; imgIn.rows; iy++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> channal = <span class="number">0</span>; channal &lt; <span class="number">3</span>; channal++) &#123;</span><br><span class="line">				output.at&lt;Vec3b&gt;(ix, iy)[channal] = saturate_cast&lt;uchar&gt;(output.at&lt;Vec3b&gt;(ix, iy)[channal] * <span class="number">3</span> - <span class="number">190</span>);		<span class="comment">//对每个像素的通道进行计算,三倍单位对比度,-190等亮度</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/****************************************	图像操作	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line">	namedWindow(<span class="string">"input"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"input"</span>, imgIn);</span><br><span class="line">	namedWindow(<span class="string">"output"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"output"</span>, output);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//cout &lt;&lt; "Mat=" &lt;&lt; endl &lt;&lt; imgOut &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/****************************************	图像输出	****************************************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	waitKey(<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行程序: Ctrl + F5 或调试 &gt;“开始执行(不调试)”菜单</span></span><br><span class="line"><span class="comment">// 调试程序: F5 或调试 &gt;“开始调试”菜单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 入门使用技巧: </span></span><br><span class="line"><span class="comment">//   1. 使用解决方案资源管理器窗口添加/管理文件</span></span><br><span class="line"><span class="comment">//   2. 使用团队资源管理器窗口连接到源代码管理</span></span><br><span class="line"><span class="comment">//   3. 使用输出窗口查看生成输出和其他消息</span></span><br><span class="line"><span class="comment">//   4. 使用错误列表窗口查看错误</span></span><br><span class="line"><span class="comment">//   5. 转到“项目”&gt;“添加新项”以创建新的代码文件，或转到“项目”&gt;“添加现有项”以将现有代码文件添加到项目</span></span><br><span class="line"><span class="comment">//   6. 将来，若要再次打开此项目，请转到“文件”&gt;“打开”&gt;“项目”并选择 .sln 文件</span></span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A04_%E5%9B%BE%E5%83%8F%E6%B7%B7%E5%90%88_%E4%BA%AE%E5%BA%A6%E5%AF%B9%E6%AF%94%E5%BA%A6_%E5%87%A0%E4%BD%95%E7%BB%98%E5%88%B6/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A04_%E5%9B%BE%E5%83%8F%E6%B7%B7%E5%90%88_%E4%BA%AE%E5%BA%A6%E5%AF%B9%E6%AF%94%E5%BA%A6_%E5%87%A0%E4%BD%95%E7%BB%98%E5%88%B6/"
                aria-label=": NT-OC-A04_图像混合_亮度对比度_几何绘制"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A03_%E7%BA%BF%E6%80%A7%E6%BB%A4%E6%B3%A2%E5%99%A8_%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2/"
                            aria-label=": NT-OC-A03_线性滤波器_色彩空间转换"
                        >
                            NT-OC-A03_线性滤波器_色彩空间转换
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20200120"><a href="#20200120" class="headerlink" title="20200120"></a>20200120</h1><h3 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h3><ul>
<li>统计时间</li>
<li>色彩空间转换</li>
<li>线性滤波器使用</li>
<li>图像读取写入plus</li>
<li>图像指针</li>
</ul>
<h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gettickcount();<span class="comment">//获取时钟</span></span><br><span class="line">mat.ptr&lt;uchar&gt;;<span class="comment">//获取图像指针</span></span><br><span class="line">saturate_cast&lt;uchar&gt;;<span class="comment">//防溢出函数</span></span><br><span class="line">filter2D;<span class="comment">//线性滤波器</span></span><br><span class="line">imread();</span><br><span class="line">imwrite();</span><br><span class="line">cvtColer();<span class="comment">//色彩空间转换</span></span><br></pre></td></tr></table></figure>



<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p><strong>使用卷积加强图像对比度</strong></p>
<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul>
<li><p><strong>关于imread和imwrite的地址传入</strong></p>
<p>可以使用c++的string或cv自己的String实现,使用cin读入地址</p>
</li>
</ul>
<h3 id="源"><a href="#源" class="headerlink" title="源"></a>源</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OpenCV_Template.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">colChange</span><span class="params">(Mat &amp;iImg, Mat &amp;oImg)</span> </span>&#123;	<span class="comment">//色彩空间变换</span></span><br><span class="line">	cvtColor(iImg, oImg, COLOR_BGR2GRAY);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addFilter</span><span class="params">(Mat &amp;iImg, Mat &amp;oImg,<span class="keyword">const</span> Mat filter)</span> </span>&#123;	<span class="comment">//添加线性滤波器</span></span><br><span class="line">	filter2D(iImg, oImg, <span class="number">-1</span>, filter);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span>		<span class="comment">//实现读取摄像头内容输出加强对比度,并统计每帧处理时间</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">VideoCapture <span class="title">cap</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">	<span class="keyword">if</span> (!cap.isOpened())</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//namedWindow("frame", WINDOW_AUTOSIZE);</span></span><br><span class="line">	<span class="comment">//while(1)</span></span><br><span class="line">	<span class="comment">/*&#123;</span></span><br><span class="line"><span class="comment">		Mat frameIn;</span></span><br><span class="line"><span class="comment">		cap &gt;&gt; frameIn;*/</span></span><br><span class="line">	<span class="comment">//	imshow("frame", frameIn);</span></span><br><span class="line">	<span class="comment">//	if (waitKey(30) &gt;= 0)</span></span><br><span class="line">	<span class="comment">//		break;</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">	Mat iImg;</span><br><span class="line">	Mat oImg;</span><br><span class="line">	Mat filter ;</span><br><span class="line">	<span class="keyword">String</span> path1;</span><br><span class="line">	<span class="built_in">string</span> path2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//cin &gt;&gt; path1;</span></span><br><span class="line">	<span class="comment">//path2 = path1;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//iImg = imread(path2);</span></span><br><span class="line">	<span class="comment">//if (iImg.empty()) &#123;</span></span><br><span class="line">	<span class="comment">//	printf("Can not read img...");</span></span><br><span class="line">	<span class="comment">//	return -1;</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		cap &gt;&gt; iImg;</span><br><span class="line">		oImg = Mat::zeros(iImg.<span class="built_in">size</span>(), iImg.type());	<span class="comment">//创建零矩阵</span></span><br><span class="line">		filter = (Mat_&lt;<span class="keyword">char</span>&gt;(<span class="number">3</span>, <span class="number">3</span>) &lt;&lt; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">5</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>);	<span class="comment">//定义卷积核</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> tCount = <span class="number">0</span>;</span><br><span class="line">		tCount = getTickCount();</span><br><span class="line"></span><br><span class="line">		<span class="comment">//colChange(iImg, oImg);</span></span><br><span class="line">		addFilter(iImg, oImg, filter);</span><br><span class="line">		<span class="comment">//iImg = imread("Test.jpg", IMREAD_GRAYSCALE);</span></span><br><span class="line">		<span class="comment">//oImg = iImg;</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> tSum = <span class="number">0</span>;</span><br><span class="line">		tSum = (getTickCount() - tCount) / getTickFrequency();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Time consume %.4f"</span>, tSum);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="comment">//imwrite("layout.jpg", oImg);</span></span><br><span class="line">		namedWindow(<span class="string">"imput"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">		imshow(<span class="string">"imput"</span>, iImg);</span><br><span class="line">		namedWindow(<span class="string">"layout"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">		imshow(<span class="string">"layout"</span>, oImg);</span><br><span class="line">		<span class="keyword">if</span> (waitKey(<span class="number">30</span>) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行程序: Ctrl + F5 或调试 &gt;“开始执行(不调试)”菜单</span></span><br><span class="line"><span class="comment">// 调试程序: F5 或调试 &gt;“开始调试”菜单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 入门使用技巧: </span></span><br><span class="line"><span class="comment">//   1. 使用解决方案资源管理器窗口添加/管理文件</span></span><br><span class="line"><span class="comment">//   2. 使用团队资源管理器窗口连接到源代码管理</span></span><br><span class="line"><span class="comment">//   3. 使用输出窗口查看生成输出和其他消息</span></span><br><span class="line"><span class="comment">//   4. 使用错误列表窗口查看错误</span></span><br><span class="line"><span class="comment">//   5. 转到“项目”&gt;“添加新项”以创建新的代码文件，或转到“项目”&gt;“添加现有项”以将现有代码文件添加到项目</span></span><br><span class="line"><span class="comment">//   6. 将来，若要再次打开此项目，请转到“文件”&gt;“打开”&gt;“项目”并选择 .sln 文件</span></span><br></pre></td></tr></table></figure>



<h3 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h3><p>无</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A03_%E7%BA%BF%E6%80%A7%E6%BB%A4%E6%B3%A2%E5%99%A8_%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A03_%E7%BA%BF%E6%80%A7%E6%BB%A4%E6%B3%A2%E5%99%A8_%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2/"
                aria-label=": NT-OC-A03_线性滤波器_色彩空间转换"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="../../2020/07/21/NT-OC-A02_%E5%9B%BE%E5%83%8F%E8%AF%BB%E5%8F%96/"
                            aria-label=": NT-OC-A02_图像读取"
                        >
                            NT-OC-A02_图像读取
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-07-21T13:57:44+08:00">
	
		    Jul 21, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="20191213"><a href="#20191213" class="headerlink" title="20191213"></a>20191213</h1><h3 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h3><ul>
<li><p>实现静态图片读取功能</p>
</li>
<li><p>复习cmd指令</p>
</li>
<li><p>学习了在cmd下使用exe文件</p>
</li>
</ul>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p><img src="D:%5CWorkSpace%5CProjects%5COpenCV%E5%AD%A6%E4%B9%A0%5CImageHub%5CDay1.png" alt="D:\WorkSpace\Projects\OpenCV学习\ImageHub\Day1.png"></p>
<h3 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h3>
                    
                        


                    
                    
                        <p>
                            <a
                                href="../../2020/07/21/NT-OC-A02_%E5%9B%BE%E5%83%8F%E8%AF%BB%E5%8F%96/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="../../2020/07/21/NT-OC-A02_%E5%9B%BE%E5%83%8F%E8%AF%BB%E5%8F%96/"
                aria-label=": NT-OC-A02_图像读取"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src=""/>
                </div>
            </a>
            
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="page/2/"
                aria-label="OLDER POSTS"
            >
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 1 of 2</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 DynAis. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">DynAis</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('../../assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="../../assets/js/script-wduq1lglu6zhcyy66btyox1zn0wmcqfshla6sfh14cy9gfpzzk1adwgo1vga.min.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
